<html>
  <head>
    <base href="/" />
  </head>
  <body>
    <div>
      <div id="root" />
    </div>
    <div>
      <pre id="editor" contenteditable="true">
import { React, ReactDOM } from "https://unpkg.com/es-react-rc";
const Foo = React.createElement('div', { style: { backgroundColor: 'red', textAlign: 'center', borderRadius: '5px', padding: 20, border: '5px solid #999' }}, 'etcha');
ReactDOM.render(Foo, document.getElementById("root"));
      </pre>
    </div>
    <script type="module">
      setInterval(() => {
        const savedCode = document.getElementById("editor").textContent;
        const encodedJs = encodeURIComponent(savedCode);
        const dataUri = "data:text/javascript;charset=utf-8," + encodedJs;
        import(dataUri);
      }, 100);
    </script>
  </body>
</html>
